REST API для социальной медиа платформы, позволяющая пользователям регистрироваться, входить в систему, создавать посты, переписываться, подписываться на других пользователей и получать свою ленту активности.


Аутентификация и авторизация:
- Пользователи могут зарегистрироваться, указав имя пользователя (уникальное поле), электронную почту (уникальное поле) и пароль.
- Пользователи могут войти в систему, предоставив правильные учетные данные.
- API обеспечивает защиту конфиденциальности пользовательских данных, включая шифрование паролей и использование JWT.


Управление постами:
- Пользователи могут создавать новые посты, указывая текст, заголовок и прикрепляя изображение.
- Пользователи могут просматривать посты других пользователей (по ID поста).
- Пользователи могут обновлять и удалять свои собственные посты.


Взаимодействие пользователей:
- Пользователи могут отправлять заявки в друзья другим пользователям (по ID пользователя). С этого момента, пользователь, отправивший заявку, остается подписчиком до тех пор, пока сам не откажется от подписки. Если пользователь, получивший заявку, принимает ее, оба пользователя становятся друзьями. Если отклонит, то пользователь, отправивший заявку, как и указано ранее, все равно остается подписчиком.
- Пользователи, являющиеся друзьями, также являются подписчиками друг на друга.
- Если один из друзей удаляет другого из друзей, то он также отписывается. Второй пользователь при этом остаётся подписчиком.
- Друзья могут писать друг другу сообщения (пользователи запрашивают ID чата для переписки. ID чата - ID записи о состоянии пользователей в отношении друг к другу в БД).
- Пользователи могут просматривать входящие и исходящие заявки в друзья, а также отменять заявки если другой пользователь ещё не принял или отклонил заявку в друзья.
- Пользователи могут подписываться и отписываться на кого угодно (по ID пользователя).


Подписки и лента активности:
- Лента активности пользователя отображает последние посты от пользователей, на которых он подписан.
- Лента активности поддерживает пагинацию и сортировку по времени создания постов (сортировка осуществлена по убыванию даты добавления поста).


Обработка ошибок:
- API должно обрабатывает и возвращает сообщения об ошибках при неправильном запросе или внутренних проблемах сервера.
- API должно осуществляет валидацию введенных данных и возвращать информативные сообщения при неправильном формате.


Security:
- UserDetailsImpl имплементация  UserDetails (springframework.security)
- UserDetailsServiceImpl имплементация  UserDetailsService (springframework.security) - ищет пользователя в БД по по имени, возвращает UserDetails
- JwtUtils - осуществляет валидацию и генерацию JWT-токена
- AuthEntryPointJwt - модифицирует ответ, чтобы дать понять клиенту, что необходима аутентификация
AuthTokenFilter - фильтр авторизации, наследуемый от OncePerRequestFilter
SecurityConfig - конфигурационный класс, содержит beans, а также разрешает/запрещает доступ к определённым endpoint


Сущности:
- User, поля: id - генерируется автоматически, username - уникальное поле, email - уникальное поле, password - зашифровывается
- FriendRequest, промежуточная таблица, поля: id - генерируется автоматически, from_user - id пользователя, который отправил заявку, to_user - id пользователя, которому отправили заявку, status - состояние заявки (ACTIVE - активна, CONFIRMATION - принята, NOT_ACTIVE - не активна, отклонена)  date_request - дата и время подачи заявки, date_response - дата и время ответа по заявке
- Subscription, промежуточная таблица, поля: id - генерируется автоматически, from_user - id пользователя, который подписался, to_user - id пользователя, на которого подписались, status - состояние подписки (активна, не активна), date_subscription - дата и время подписания на пользователя
- Publication, поля: id - генерируется автоматически, author_id - id автора публикации, username - имя автора публикации, date - дата и время публикации, header - название публикации, text - содержание публикации, image - изображение публикации (хранится как массив байтов)

Репозитории:
- UserRepository extends JpaRepository<User, Long>
- PublicationRepository extends PagingAndSortingRepository<Publication, Long>
- FriendRequestRepository extends JpaRepository<FriendRequest, Long>
- SubscriptionRepository extends JpaRepository<Subscription, Long>

Сервисы:
- UserService
- PublicationService

LoginRequest / JwtResponse - классы для запроса на авторизацию и ответ сервера, который содержит токен
SignupRequest / MessageResponse - классы для запроса на регистрацию и ответ сервера

UserDto - dto, содержит id, имя пользователя и email, необходим для отображения информации о пользователях
Post - dto, поступает от пользователя при создании или редактировании публикации, содержит название и текст публикации
Status - enum (ACTIVE, CONFIRMATION, NOT_ACTIVE), в БД хранятся как числовые значения (0, 1, 2)


Endpoints:

1. AuthController
- POST: /auth/signin - войти в систему
- POST: /auth/signin - зарегистрироваться в системе

2. UserController
- GET: /user/all - получить список всех пользователей
- GET: /user/{username} - найти пользователя по имени
- GET: /user/my_friends - отобразить список моих друзей
- GET: /user/incoming_friendship - отобразить список исходящий заявок в друзья
- GET: /user/outgoing_friendship - отобразить список входящих заявок в друзья
- POST: /user/send_friendship/{id} - отправить заявку в друзья пользователю с id
- PATCH: /user/cancel_friendship/{id} - отменить заявку в друзья пользователю с id (возможно, если пользователь ещё не принял заявку или не отклонил его)
- PATCH: /user/accept_friendship/{id} - принять заявку в друзья от пользователя с id
- PATCH: /user/decline_friendship/{id} - отклонить заявку в друзья от пользователя с id
- PATCH: /user/delete_friend/{id} - удалить из друзей пользователя с id
- GET: /user/my_subscriptions - отобразить список моих подписок
- POST: /user/subscribe/{id} - подписаться на пользователя с id
- PATCH: /user/unsubscribe/{id} - отписаться на пользователя с id
- POST: /user/chat/{username} - получить chatId с пользователем username, если пользователь является другом

3. PublicationController
- GET: /post/{id} - получить публикацию по id
- GET: /post/my - получить список моих публикаций
- POST: /post - создать публикацию
- PATCH: /post - редактировать публикацию
- DELETE: /post/{id} - удалить публикацию
- GET: /post/news - получить постранично список публикаций подписок. Параметры запроса (не обязательные) offset - номер страницы, limit - количество записей